(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_category_page1-discount-spikeList"],{2980:function(e,t,i){"use strict";(function(e){i("99af"),i("acd8"),i("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("9ae9"),o=i("ef67"),n={data:function(){return{spikeLikeList:[],spikeLikeData:{},page:1,pageSize:10,loadingType:0,hou:"00",min:"00",sec:"00",timeOut:void 0,shopId:0,shopSeckillId:0,type:1,volume:1,shopShowType:!1,selectIndex:0}},onLoad:function(e){e.shopId&&e.shopSeckillId?(this.shopShowType=!1,this.shopId=e.shopId,this.shopSeckillId=e.shopSeckillId):(this.shopShowType=!0,this.shopId=0,this.shopSeckillId=0),this.getSpikeLike()},onUnload:function(){this.timeOut&&clearTimeout(this.timeOut)},onReachBottom:function(){1==this.loadingType?uni.stopPullDownRefresh():(this.page=this.page+1,this.getSpikeLike())},methods:{synthesize:function(){this.volume=1,this.type=1,this.page=1,this.selectIndex=0,this.spikeLikeList=[],this.getSpikeLike()},sales:function(){1==this.volume?this.volume=2:this.volume=1,this.type=1,this.page=1,this.selectIndex=1,this.spikeLikeList=[],this.getSpikeLike()},priceClick:function(){this.volume=1,1==this.type?this.type=2:this.type=1,this.page=1,this.selectIndex=2,this.spikeLikeList=[],this.getSpikeLike()},gogoodsDetails:function(e,t,i){uni.navigateTo({url:"../goodsModule/goodsDetails?shopId="+e+"&productId="+t+"&skuId="+i})},getPercent:function(e,t){return e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)?"-":t<=0?"0%":Math.round(e/t*1e4)/100},getSpikeLike:function(){var t=this,i="";i={page:this.page,pageSize:this.pageSize,shopId:this.shopId,shopSeckillId:this.shopSeckillId,type:this.type,volume:this.volume},s.request(o.getSeckillList,i,"GET").then((function(i){t.spikeLikeData=i.data,e.log(t.spikeLikeData.time,22222),0==t.shopShowType&&(t.dateformat(t.spikeLikeData.time),t.countDown()),0==i.data.page.list.length?(t.loadingType=1,t.page=t.page):t.spikeLikeList=t.spikeLikeList.concat(i.data.page.list)})).catch((function(e){uni.showToast({title:"失败",icon:"none"})}))},dateformat:function(e){var t=Math.floor(e/1e3),i=Math.floor(t/3600/24),s=Math.floor(t/3600%24),o=Math.floor(t/60%60),n=Math.floor(t%60);this.hou=s+24*i,this.min=o,this.sec=n},countDown:function(){var t=this,i=setTimeout((function(){var s=parseInt(t.hou),o=parseInt(t.min),n=parseInt(t.sec),a=n-1,r=o,l=s;e.log(a,r,l),0==l&&0==r&&-1==a?(clearTimeout(i),uni.switchTab({url:"../../pages/tabbar/index/index"}),uni.showToast({title:"活动结束",duration:2e3,icon:"none"})):(-1==a&&(a=59,r-=1),-1==r&&(r=59,l-=1),t.hou=t.timeFormat(l),t.min=t.timeFormat(r),t.sec=t.timeFormat(a),t.timeOut=i,t.countDown())}),1e3)},timeFormat:function(e){return e<10?"0"+e:e}}};t.default=n}).call(this,i("5a52")["default"])},"2da8a":function(e,t,i){var s=i("24fb");t=s(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 页面左右间距 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.spikeListBox .selected[data-v-1eb25dc5]{color:#fe6f52}.spikeListBox .shopShowTypebox[data-v-1eb25dc5]{height:%?80?%;background-color:#fff;z-index:9999}.spikeListBox .countdown[data-v-1eb25dc5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#f7f7f7;width:100%;z-index:999}.spikeListBox .countdown .endDate[data-v-1eb25dc5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-left:%?20?%}.spikeListBox .countdown .endDate span[data-v-1eb25dc5]{width:%?48?%;height:%?36?%;background:-webkit-linear-gradient(203deg,#f71622,#fe6f52);background:linear-gradient(247deg,#f71622,#fe6f52);display:block;font-size:%?28?%;color:#fff;text-align:center}.spikeListBox .countdown .endDate i[data-v-1eb25dc5]{font-size:%?28?%;color:#ff736c;font-style:normal;margin:0 %?8?%}.spikeListBox .spikeList[data-v-1eb25dc5]{padding:%?0?% %?30?% %?20?% %?30?%}.spikeListBox .spikeList .listItem[data-v-1eb25dc5]{display:-webkit-box;display:-webkit-flex;display:flex;padding-bottom:%?30?%;border-bottom:%?1?% solid #eee;margin-bottom:%?30?%}.spikeListBox .spikeList .listItem[data-v-1eb25dc5]:last-child{border-bottom:none}.spikeListBox .spikeList .listItem .itemBox[data-v-1eb25dc5]{width:%?260?%;height:%?260?%;margin-right:%?30?%}.spikeListBox .spikeList .listItem .itemBox img[data-v-1eb25dc5]{width:100%;height:100%}.spikeListBox .spikeList .listItem .itemInfo[data-v-1eb25dc5]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.spikeListBox .spikeList .listItem .itemInfo p[data-v-1eb25dc5]{font-size:%?26?%;color:#333;line-height:%?40?%;margin-bottom:%?20?%;text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.spikeListBox .spikeList .listItem .itemInfo .number[data-v-1eb25dc5]{color:#999;font-size:%?26?%}.spikeListBox .spikeList .listItem .itemInfo .originalPrice[data-v-1eb25dc5]{font-size:%?26?%;margin-top:%?20?%;text-decoration:line-through;color:#999}.spikeListBox .spikeList .listItem .itemInfo .price[data-v-1eb25dc5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.spikeListBox .spikeList .listItem .itemInfo .price .snapUpBtn[data-v-1eb25dc5]{width:%?140?%;height:%?56?%;line-height:%?56?%;text-align:center;background:-webkit-linear-gradient(203deg,#f71622,#fe6f52);background:linear-gradient(247deg,#f71622,#fe6f52);border:%?1?% solid #ff736c;border-radius:%?8?%;color:#fff}.spikeListBox .filterBox[data-v-1eb25dc5]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;background:#fff;left:0}.spikeListBox .filterBox .item[data-v-1eb25dc5]{-webkit-box-flex:0;-webkit-flex:0 0 33.33%;flex:0 0 33.33%;text-align:center}',""]),e.exports=t},"45c2":function(e,t,i){"use strict";i.r(t);var s=i("c6d4"),o=i("ca22");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("8d4d");var a,r=i("f0c5"),l=Object(r["a"])(o["default"],s["b"],s["c"],!1,null,"1eb25dc5",null,!1,s["a"],a);t["default"]=l.exports},"8d4d":function(e,t,i){"use strict";var s=i("e19a"),o=i.n(s);o.a},"9ae9":function(e,t,i){i("d3b7");var s=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(s,o){var n={"Content-Type":"application/json"},a=uni.getStorageSync("storage_key"),r=a.token;r&&(n["Authorization"]=r),uni.request({url:e,data:t,method:i,header:n,success:function(e){if(200==e.statusCode){var t=e.data;"200"===t.code?s(e.data):"20004"===t.code||"20005"===t.code?(uni.removeStorageSync("storage_key"),uni.navigateTo({url:"/pages_category_page2/userModule/login.vue"})):uni.showToast({title:t.message,icon:"none"}),o(e)}else o(e)},fail:function(e){o(e)}})}))},o=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(s,o){var n={"Content-Type":"application/json",tenant:"MDAwMA=="};uni.request({url:e,data:t,method:i,header:n,success:function(e){"200"===e.data.code?s(e.data):o(e)},fail:function(e){o(e)}})}))};e.exports={request:s,request1:o}},c6d4:function(e,t,i){"use strict";var s;i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s}));var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"spikeListBox"},[0==e.shopShowType?i("v-uni-view",{staticClass:"countdown"},[e._v("距结束"),i("v-uni-view",{staticClass:"endDate"},[i("span",[e._v(e._s(e.hou))]),i("i",[e._v(":")]),i("span",[e._v(e._s(e.min))]),i("i",[e._v(":")]),i("span",[e._v(e._s(e.sec))])])],1):i("v-uni-view",{staticClass:"filterBox"},[i("v-uni-view",{staticClass:"item",class:0==e.selectIndex?"selected":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.synthesize.apply(void 0,arguments)}}},[i("span",[e._v("综合")])]),i("v-uni-view",{staticClass:"item",class:1==e.selectIndex?"selected":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sales.apply(void 0,arguments)}}},[i("span",[e._v("销量")])]),i("v-uni-view",{staticClass:"item",class:2==e.selectIndex?"selected":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.priceClick.apply(void 0,arguments)}}},[i("span",[e._v("价格")])])],1),i("v-uni-view",{staticClass:"spikeList mar-top-20"},e._l(e.spikeLikeList,(function(t,s){return i("v-uni-view",{key:s,staticClass:"listItem"},[i("v-uni-view",{staticClass:"itemBox"},[i("img",{attrs:{src:t.image}})]),i("v-uni-view",{staticClass:"itemInfo flex-column-plus flex-sp-between"},[i("p",[e._v(e._s(t.productName))]),t.limitStockNumber?i("v-uni-view",{staticStyle:{width:"90%"}},[i("v-uni-progress",{attrs:{activeColor:"#FF7800",percent:e.getPercent(t.limitStockNumber,t.limitNumber),active:!0,"stroke-width":"5"}})],1):e._e(),t.limitNumber?i("v-uni-view",{staticClass:"number"},[e._v("限量"+e._s(t.limitNumber)+"件 / 剩余"+e._s(t.limitStockNumber)+"件")]):e._e(),i("v-uni-view",{staticClass:"originalPrice"},[e._v("¥"+e._s(t.originalPrice))]),i("v-uni-view",{staticClass:"price"},[i("v-uni-view",{staticClass:"currentPrice flex-row-plus flex-items-plus font-color-FF7800"},[i("v-uni-view",{staticClass:"fs26"},[e._v("秒杀价")]),i("v-uni-view",{staticClass:"flex-row-plus flex-items"},[i("v-uni-label",{staticClass:"fs24"},[e._v("￥")]),i("v-uni-label",{staticClass:"fs36"},[e._v(e._s(t.price))])],1)],1),i("v-uni-view",{staticClass:"snapUpBtn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.gogoodsDetails(t.shopId,t.productId,t.skuId)}}},[e._v("去抢购")])],1)],1)],1)})),1)],1)},n=[]},ca22:function(e,t,i){"use strict";i.r(t);var s=i("2980"),o=i.n(s);for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);t["default"]=o.a},e19a:function(e,t,i){var s=i("2da8a");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var o=i("4f06").default;o("2d01ab5c",s,!0,{sourceMap:!1,shadowMode:!1})},ef67:function(e,t){var i="http://localhost1:9007",s="/api",o=2;e.exports={terminal:o,SettledMerchantPrefix:i+"/settled-merchant",shareLink:i,Verify:s+"/app/getCode",Login:s+"/app/login",WxLogin:s+"/app/wxLogin",GetSessionKey:s+"/app/getSessionKey",SetWxPhone:s+"/app/setWxPhone",UpdateWxPhone:s+"/app/updateWxPhone",WxAppLogin:s+"/app/wxAppLogin",FindCategoryListByDepth:s+"/classify/getFirstClassify",GetClaasifyProducts:s+"/classify/getClaasifyProducts",SearchHistory:s+"/app/getHistory",GgetSearchProducts:s+"/app/getSearchProducts",DeleteSearch:s+"/app/deleteSearch",Getindexdata:s+"/app/index",QueryProductDetail:s+"/product/getById",QueryProductSku:s+"/product/getProducts",getCouponProducts:s+"/coupon/getCouponProducts",QueryMemberAddres:s+"/receive/getAll",AddresAdd:s+"/receive/save",AddresDelete:s+"/receive/delete",AddresUpdate:s+"/receive/update",receiveGetInfo:s+"/receive/getById",Comment:s+"/order/addComment",AdditionalComment:s+"/order/addToComment",MyCommentList:s+"/comment/getAll",LikeOrUnLikeComment:s+"/comment/like",GetDistributor:s+"/distributor/getDistributor",FindCouponList:s+"/coupon/getCoupons",MemberAccountWithdraw:s+"/distributor/save",GetUser:s+"/user/getUser",GetStore:s+"/shop/getShopProducts",GetStoreShopClassify:s+"/shop/getShopClassify",GetShopBanner:s+"/shop/getShopBanner",getShopIndex:s+"/shop/getIndex",QueryBankcardList:s+"/bank/getAll",SaveBankcard:s+"/bank/save",UpdateBankcard:s+"/bank/update",DelMemberBankcard:s+"/bank/delete",GetByIdBankcard:s+"/bank/getById",FindOrderList:s+"/order/getAll",Settlement:s+"/order/getSettlement",PlaceOrder:s+"/order/submit",GetOrderDetail:s+"/order/getById",CancelOrder:s+"/order/cancel",DelOrder:s+"/order/delete",ShippingTrace:s+"/order/getDilevery",payOrder:s+"/order/pay",gotoPay:s+"/order/gotoPay",gotoAppPay:s+"/order/gotoAppPay",gotoH5Pay:s+"/order/gotoH5Pay",ConfirmReceive:s+"/order/confirm",Orderrefund:s+"/order/refund",ReasonEnums:s+"/after/getReasonSelect",ApplyReturnMoney:s+"/after/submit",ShoppingaddCart:s+"/cart/addCart",ShoppingCart:s+"/cart/getCart",UpdateNumberCart:s+"/cart/updateNumber",DeleteCart:s+"/cart/delete",SelectedCart:s+"/cart/selected",ReceiveCoupon:s+"/coupon/takeCoupon",FindSaleStoreList:s+"/distributor/getDistributorAll",QuerySalesMainInfo:s+"/distributor/getShopDistributor",FindSalesOrderPage:s+"/distributor/getReward",GetNotReward:s+"/distributor/getNotReward",FindSalesCustomerList:s+"/distributor/getBuyers",FindSubordinateSalesList:s+"/distributor/getDistributors",FindSalesPromConfig:s+"/distributor/getShopExtension",StoreProductList:s+"/distributor/getExtensionProduct",FindMySalesPage:s+"/distributor/getDistributorOrder",HasApply:s+"/distributor/check",BindSalesCustomer:s+"/distributor/bind",FindReturnList:s+"/after/getAll",CancelRefund:s+"/after/returnRefund",ReturnDetail:s+"/after/getById",CancelReturnGoods:s+"/after/returnGoods",ShippingCompany:s+"/order/getExpressSelect",SendReturnGoods:s+"/order/returnExpress",Apply:s+"/distributor/addDistributor",getClassify:s+"/canvas/getClassify",getProducts:s+"/canvas/getProducts",getCanvas:s+"/canvas/getCanvas",getShops:s+"/canvas/getShops",getCoupons:s+"/canvas/getCoupons",takeCoupon:s+"/coupon/takeCoupon",getShopCoupons:s+"/canvas/getShopCoupons",selectCanvasCustomList:s+"/canvas/selectCanvasCustomList",getSeckills:s+"/renovation/getSeckills",getGroupWorks:s+"/renovation/getGroupWorks",getDiscounts:s+"/renovation/getDiscounts",Query:s+"/dict/getByName",DeleteAllSearch:s+"/product/deleteAllSearch",getMessage:s+"/notice/getAll",getMessageDateils:s+"/notice/getById",getNotice:s+"/notice/getGongGaoAll",getProductCollect:s+"/collect/getAllProduct",getStoreCollect:s+"/collect/getAllShop",cancelCollect:s+"/collect/cancel",collect:s+"/collect/collect",deleteCollect:s+"/collect/delete",addAnswer:s+"/seckill/addAnswer",addProblem:s+"/seckill/addProblem",getSeckillList:s+"/seckill/getIndex",getProblems:s+"/seckill/getProblems",getProblemDetail:s+"/seckill/getProblemDetail",getGroupSettlement:s+"/work/getSettlement",getGroupBuyList:s+"/work/getIndex",getInviteSpell:s+"/work/getInvite",getDiscountList:s+"/discount/getIndex",getFootprintList:s+"/footprint/getAll",deleteFootprint:s+"/footprint/delete",getProblemList:s+"/seckill/getProblem",getAnswerList:s+"/seckill/getAnswer",deleteProblem:s+"/seckill/deleteProblem",deleteAnswer:s+"/seckill/deleteAnswer",getShare:s+"/work/getShare"}}}]);